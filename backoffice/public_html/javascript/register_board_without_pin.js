window.onload = function(){   $("#ref_username").blur();}// form validation function //function trim(a){               return a.replace(/^\s+|\s+$/,'');}function disable(){    //alert("ggggggggggggggggggggg");    document.user_register.register.disabled=true;}		function enable() {	    document.user_register.register.disabled=false;}function check(b,c){    // alert("ggggggggggggggggggggg3333333333333"+b+":"+c);    if(b==1 && c==1)    {        enable();    }    else    {        disable();    }}	function pageLoad() { } $(document).ready(function(){    var b=0;    var c=0;    var d=0;    document.user_register.register.disabled=false;            var path_temp = document.user_register.path_temp.value;    var path_root =document.user_register.path_root.value;    //alert(path_temp);     $("#cpswd").blur(function()    {        $("#sponser_user_name").trigger('blur');    });		    $("#sponser_user_name").blur(function()    {           var newusername = document.user_register.sponser_user_name.value;         var user_null = trim(newusername);        var emailRegex = /^[""]+/;        var error=0;        if(newusername.match(emailRegex) || user_null=="")         {            $("#msgboxsponsor").removeClass();            $("#msgboxsponsor").addClass('messageboxsponsorerror');            $("#msgboxsponsor").html('<img align="absmiddle" src="'+path_temp+'images/Error.png" /> Invalid sponsor code or sponsor office name...').show().fadeTo(1900,1);            error=1;            disable();        }	        if(error!=1)        {            disable();            var sponsor_availability=path_root+"register_board/checkSponsorAvailability";            //remove all the class add the messagebox classes and start fading            $("#errormsg1").removeClass();            $("#errormsg1").addClass('messagebox');            $("#errormsg1").html('<img align="absmiddle" src="'+path_temp+'images/loader.gif" /> Checking Placement data...').show().fadeTo(1900,1);            //check the username exists or not from ajax            $.post(sponsor_availability,{                sponser_name:$('#sponser_office').val(),                 user_id:$('#sponser_user_name').val()            } ,function(data){                    if(trim(data)=='no') //if username not avaiable                    {                        $("#errormsg1").fadeTo(200,0.1,function() //start fading the messagebox                        {                                 //add message and change the class of the box and start fading                                $(this).removeClass();                                $(this).addClass('messageboxsponsorerror');                                $(this).html('<img align="absmiddle" src="'+path_temp+'images/Error.png" /> Invalid Placement data...').show().fadeTo(1900,1);                                disable();                            });		                    }                    else                    {                        $("#errormsg1").fadeTo(200,0.1,function()  //start fading the messagebox                        {                                 //add message and change the class of the box and start fading                                $(this).removeClass();                                $(this).addClass('messageboxok');                                $(this).html('<img align="absmiddle" src="'+path_temp+'images/accepted.png" /> Placement data validated...').show().fadeTo(1900,1);                                enable();	                                b=1;	                            //check(b,c);                            });                    }				                });        }    //$("#position").trigger('blur');    });	    $("#position").blur(function()    {            var error=0;            if(error!=1)            {                var leg_availability=path_root+"register/checkLegAvailability"                //remove all the class add the messagebox classes and start fading                $("#errormsg2").removeClass();                $("#errormsg2").addClass('messagebox');                $("#errormsg2").html('<img align="absmiddle" src="'+path_temp+'images/loader.gif" /> Checking Your Position...').show().fadeTo(1900,1);                //check the username exists or not from ajax                $.post(leg_availability,{                    sponserleg:$('#position').val(),                     sponser_user_name:$('#sponser_user_name').val()                } ,function(data){                        if(trim(data)=='no') //if username not avaiable                        {                            $("#errormsg2").fadeTo(200,0.1,function() //start fading the messagebox                            {                                     //add message and change the class of the box and start fading                                    $(this).removeClass();                                    $(this).addClass('messageboxerror');                                    $(this).html('<img align="absmiddle" src="'+path_temp+'images/Error.png" />This Position is not Usable ...').show().fadeTo(1900,1);                                    disable();                                });		                        }                        else                        {                            $("#errormsg2").fadeTo(200,0.1,function()  //start fading the messagebox                            {                                     //add message and change the class of the box and start fading                                    $(this).removeClass();                                    $(this).addClass('messageboxok');                                    $(this).html('<img align="absmiddle" src="'+path_temp+'images/accepted.png" />Position Available...').show().fadeTo(1900,1);                                    //enable();                                    c=1;	                                    check(b,c);                                });                        }				                    });            }         });    $("#user_name_entry").blur(function()    {        var error = 0;        if (error != 1)        {            var user_name_availability = path_root + "register/checkUserNameAvailability"            var msg;            msg = $("#validate_msg27").html();            //remove all the class add the messagebox classes and start fading            $("#errormsg3").removeClass();            $("#errormsg3").addClass('messagebox');            $("#errormsg3").html('<img align="absmiddle" src="' + path_temp + 'images/loader.gif" /> ' + msg).show().fadeTo(1900, 1);            //check the username exists or not from ajax            $.post(user_name_availability, {user_name: $('#user_name_entry').val()}, function(data)            {                if (trim(data) == 'no') //if username not avaiable                {                    $("#errormsg3").fadeTo(200, 0.1, function() //start fading the messagebox                    {                        var msg;                        msg = $("#validate_msg28").html();                        //add message and change the class of the box and start fading                        $(this).removeClass();                        $(this).addClass('messageboxerror');                        $(this).html('<img align="absmiddle" src="' + path_temp + 'images/Error.png" />' + msg).show().fadeTo(1900, 1);                        disable_next2();                    });                }                else                {                    $("#errormsg3").fadeTo(200, 0.1, function()  //start fading the messagebox                    {                         var msg;                        msg = $("#validate_msg29").html();                        //add message and change the class of the box and start fading                         length=$('#user_name_entry').val().length;                          var username_type = document.form.username_type.value;                                                  if(username_type=='static')                       {                        if(length>=6)                        {                                                    $(this).removeClass();                        $(this).addClass('messageboxok');                        $(this).html('<img align="absmiddle" src="' + path_temp + 'images/accepted.png" />' + msg).show().fadeTo(1900, 1);                       enable_next2();                        c = 1;//check(a,b,c);                        }                                                      else                        {                           msg = $("#validate_msg63").html();                                                     $(this).removeClass();                        $(this).addClass('messageboxok');                        $(this).html('<img align="absmiddle" src="' + path_temp + 'images/Error.png" />'+msg).show().fadeTo(1900, 1);                            return false;                        //enable();                        //c = 1;                        }                       }                       else                           {                                $(this).removeClass();                        $(this).addClass('messageboxok');                        $(this).html('<img align="absmiddle" src="' + path_temp + 'images/accepted.png" />' + msg).show().fadeTo(1900, 1);                        enable_next2();                        c = 1;                           }                    });                }            });        }    });			    $("#father_id").keypress(function (e)      {	            //if the letter is not digit then display error and don't type anything            if( e.which!=8 && e.which!=0 &&  (e.which<48 || e.which>57))            {                //display error message                $("#errmsg1").html("Digits Only ").show().fadeOut(1200,0);                 return false;            }	        });    $("#user_name_entry").keypress(function (e)      {	            //if the letter is not digit then display error and don't type anything            if( e.which!=8 && e.which!=0 &&  (e.which<48 || e.which>57) &&  (e.which<65 || e.which>90) &&  (e.which<97 || e.which>122))            {                //display error message                $("#errmsg33").html("Alpha numeric values only").show().fadeOut(1200,0);                 return false;            }	        });    $("#pin").keypress(function (e)      {	            //if the letter is not digit then display error and don't type anything            if( e.which!=8 && e.which!=0 &&  (e.which<48 || e.which>57))            {                //display error message                $("#errmsg2").html("Digits Only ").show().fadeOut(1200,0);                 return false;            }	        });		  $("#tran_pass_ewallet").blur(function ()    {        var ewallet_available = path_root + "register/checkEwalletAvailable";        var msg;        msg = $("#validate_msg60").html();        //remove all the class add the messagebox classes and start fading        $("#errormsg2").removeClass();        $("#errormsg2").addClass('messagebox');        $("#errormsg2").html('<img align="absmiddle" src="' + path_temp + 'images/loader.gif" /> ' + msg).show().fadeTo("fast", 1);//                      //check the username exists or not from ajax        $.post(ewallet_available, {            user_name: $('#user_name_ewallet').val(),            ewallet: $('#tran_pass_ewallet').val()        }, function (data) {            if (data != '')            {                var ewallet_balnce = $('#product_amount').val();                document.getElementById('ewallet_bal').value = data - ewallet_balnce;                if (document.getElementById('ewallet_bal').value > 0) {                    $("#tran_pass_ewallet_box").fadeTo("fast", 1, function () //start fading the messagebox                    {                        var msg39 = $("#validate_msg62").html();                        //var msg37 = $("#error_msg37").html();                        //add message and change the class of the box and start fading                        $(this).removeClass();                        $(this).addClass('messageboxok');                        $(this).html('<img align="absmiddle" src="' + path_temp + 'images/accepted.png" />' + msg39).show().fadeTo("fast", 1);                        enable_finish();                    });                }                else                {                    $("#tran_pass_ewallet_box").fadeTo("fast", 1, function () //start fading the messagebox                    {                        var msg37 = $("#validate_msg50").html();//                    add message and change the class of the box and start fading                        $(this).removeClass();                        $(this).addClass('messageboxok');                        $(this).html('<img align="absmiddle" src="' + path_temp + 'images/Error.png" />' + msg37).show().fadeTo("fast", 1);                        disable_finish();                    });                }            }            else            {                $("#tran_pass_ewallet_box").fadeTo("fast", 1, function () //start fading the messagebox                {                    var msg38 = $("#validate_msg61").html();                    //add message and change the class of the box and start fading                    $(this).removeClass();                    $(this).addClass('messageboxok');                    $(this).html('<img align="absmiddle" src="' + path_temp + 'images/Error.png" />' + msg38).show().fadeTo("fast", 1);                    disable_finish();                });            }        });    });			    $("#ref_username").blur(function()    {	        var error=0;        var referral_name = $('#ref_username').val();        if(error!=1)        {            var ref_user_availability=path_root+"register/checkRefUserAvailability"            //remove all the class add the messagebox classes and start fading            $("#referral_box").removeClass();            $("#referral_box").addClass('messagebox');            $("#referral_box").html('<img align="absmiddle" src="'+path_temp+'images/loader.gif" /> Checking sponsor username...').show().fadeTo(1900,1);            //check the username exists or not from ajax            $.post(ref_user_availability,{                username:$('#ref_username').val()            } ,function(data){                    if(trim(data)=='no') //if username not avaiable                    {                        $("#referral_box").fadeTo(200,0.1,function() //start fading the messagebox                        {                                 //add message and change the class of the box and start fading                                $(this).removeClass();                                $(this).addClass('messageboxerror');                                $(this).html('<img align="absmiddle" src="'+path_temp+'images/Error.png" /> Invalid Sponsor username ...').show().fadeTo(1900,1);                                document.getElementById('referal_div').style.display="none";                                disable();                            });		                    }                    else                    {                        $("#referral_box").fadeTo(200,0.1,function()  //start fading the messagebox                        {                                 //add message and change the class of the box and start fading                                $(this).removeClass();                                $(this).addClass('messageboxok');                                $(this).html('<img align="absmiddle" src="'+path_temp+'images/accepted.png" />Sponsor username validated...').show().fadeTo(1900,1);                                getreferralname(referral_name);                            //enable();                            });                    }				                });		        }		    });	    function getreferralname(referral_name)    {        var html;		        var get_referral_name=path_root+"register/getReferralName";        $.post(get_referral_name,{            username:$('#ref_username').val()        } ,function(data){            data = trim(data);            html = "<td>&nbsp;&nbsp;&nbsp;Sponsor Full Name:<font color='#ff0000'>*</font></td><td>&nbsp;&nbsp;&nbsp;<input type='text' name='referal_name' id='reeral_name' size='22' maxlength='20' autocomplete='Off' value='"+data+"' readonly='true'/></td>";            document.getElementById('referal_div').innerHTML=html;            document.getElementById('referal_div').style.display="";        });    }		    function change_pin()    {        document.getElementById('passcode').value="";        document.getElementById('passbox').style.display="none";        disable();    }    function change_product()    {        document.getElementById('passcode').value="";        document.getElementById('passbox').style.display="none";        disable();    }				    /*$("#mobile").keypress(function (e)      {	            //if the letter is not digit then display error and don't type anything            if( e.which!=8 && e.which!=0 &&  (e.which<48 || e.which>57))            {                //display error message                $("#errmsg3").html("Digits Only ").show().fadeOut(1200,0);                 return false;            }	        });*/    $("#land_line").keypress(function (e)      {	            //if the letter is not digit then display error and don't type anything            if( e.which!=8 && e.which!=0 &&  (e.which<48 || e.which>57))            {                //display error message                $("#errmsg4").html("Digits Only ").show().fadeOut(1200,0);                 return false;            }	        });		});